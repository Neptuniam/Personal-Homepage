<!DOCTYPE html>
<html>
  <head>
    <title>the 134 Homepage</title>
    <meta charset="utf-8">

    <link rel="shortcut icon" href="otherImages//favicon.ico">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Arima+Madurai|Bangers|Gruppo|Nixie+One|Noto+Serif|Nova+Flat|Poiret+One|Shrikhand" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Playball" rel="stylesheet">
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script> -->

    <style media="screen">
      [v-cloak] { display:none; }
      body {
        background-size: fill;
      }

      .box {
        position:relative;
        border: 1px solid;
        padding: 1.3em;
        margin: 1em;
      }

      .date-time{
        -webkit-touch-callout: none; /* iOS Safari */
          -webkit-user-select: none; /* Safari */
           -khtml-user-select: none; /* Konqueror HTML */
             -moz-user-select: none; /* Firefox */
              -ms-user-select: none; /* Internet Explorer/Edge */
                  user-select: none;
      }

      .clockSize {
        font-size: 800%;
        color: rgba(0,0,0,8);

        text-shadow: 0 0 0.5px #fff, 0 0 0.5px #fff, 0 0 0.5px #fff
      }

      .dateSize {
        /* font-size: 175%; */
        font-size: 200%;
        color: rgba(0,0,0,8);
        margin-top: -1em;

        /* text-shadow: 0 0 .001px #fff, 0 0 .001px #fff, 0 0 .001px #fff */
      }

      .clock {
        text-align: center;
        font-family: 'Playball', cursive;
      }

      .favButtons {
        width: 40px;
        height:40px;
      }

      .dashboard {
        text-align: center;
        font-family: 'Gruppo', cursive;
      }

      .bottom-left {
        position:absolute;
        bottom: 1;
        right: -0.5;
      }

      .bottom-center {
        position:absolute;
        bottom: 0px;
        left: 30%;
        /* top: 30px; */
        /* text-align: center; */
      }

      .top-right {
        position:absolute;
        top: -1px;
        right: 5px;
      }

      .mid-right {
        position: absolute;
        top: 15px;
        right: 5px;
      }

      .bottom-right {
        position:absolute;
        bottom: 1;
        right: -0.5;
      }

      blink {
          -webkit-animation: 0.9s linear infinite condemned_blink_effect; // for android
          animation: 0.9s linear infinite condemned_blink_effect;
      }
      @-webkit-keyframes condemned_blink_effect { // for android
          0% {
              visibility: hidden;
          }
          50% {
              visibility: hidden;
          }
          100% {
              visibility: visible;
          }
      }
      @keyframes condemned_blink_effect {
          0% {
              visibility: hidden;
          }
          50% {
              visibility: hidden;
          }
          100% {
              visibility: visible;
          }
      }
    </style>

    <!-- JQuery download link (Need to use for following script) -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

    <!-- Ajax script to run 'clientSide.php' and retrieve a random background -->
    <script>
      $(document).ready(function() {
            $.ajax({
                    url:'clientSide.php',
                    method:'POST',
                   success:function(data){
                     try {
                       console.log(data);
                       if (String(data) == "backgrounds/" || String(data) == "backgrounds/" || data == "")
                          throw "backgrounds/earthporn24.png";

                       document.body.style.background = "#f3f3f3 url(\'" + data + "\') no-repeat fixed center";
                     }
                     catch(err) {
                       document.body.style.background = "#f3f3f3 url(\'" + err + "\') no-repeat fixed center";
                     }
                   }
                });
      });
    </script>

    <!-- Get weekly weather info -->
    <script>
      function getWeather(myWeather) {
        var location = "saskatoon, sk";

        $.get("https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where text=\"" + location + "\") and u='c'&format=json", function (data) {        })
        .done(function(data) {
          /* Check that a place was found (we'll just grab the first) */
          if (data.query.results === null) {
              bootbox.alert("Location not found: " + location + "!");
          } else {
            document.getElementById('currentTemp').innerHTML = data.query.results.channel.item.condition.temp + "&deg;C";
            document.getElementById('currentTempText').innerHTML = data.query.results.channel.item.condition.text;
            document.getElementById('currentTempRange'). innerHTML = data.query.results.channel.item.forecast[0].low + "&deg;C - " + data.query.results.channel.item.forecast[0].high + "&deg;C : 60%";

            for (var i = 0; i < 6; i++) {
              document.getElementById('day' + i + 'High').innerHTML = data.query.results.channel.item.forecast[i+1].high + "&deg;C";
              document.getElementById('day' + i +'Low').innerHTML = data.query.results.channel.item.forecast[i+1].low + "&deg;C";
              document.getElementById('day' + i +'Date').innerHTML = data.query.results.channel.item.forecast[i+1].day;
            }
          }
        });
      }

      getWeather();
    </script>

  </head>
  <body>
    <div id="app">
      <div class="row">
        <div class="col s10 l6">
          <!--Time Div-->
          <div class="date-time">
            <!--Time Row-->
            <div class="clock">
              <div class="row">
                <div class="col s12">
                  <br>
                  <!-- The Vue instance is attached to this div -->
                  <div>
                    <div>
                      <!-- Reference the variable currtime in Vue Instance -->
                      <em class="clockSize" v-cloak>{{currhour}}<blink>:</blink>{{currmin}}&nbsp;</em>
                    </div>
                    <div>
                      <!-- Reference the variable currdate in Vue Instance -->
                      <p class="dateSize" v-cloak v-text="currdate">&nbsp;</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <br><br>

          <!--Browser Card-->
          <div class="" style="margin:0 auto; width:420px;">
            <div class="card" style="background: rgba(240,240,240,0.5);">
              <div class="card-content">
                <!--Google basic search bar-->
                <form method="get" action="http://www.google.com/search">
                <div class="input-field">
                  <i class="material-icons prefix">search</i>
                  <input id="icon_prefix" name="q" placeholder="Search Google" type="text">
                  <label for="icon_prefix"></label>
                </div>
              </form>

                <!--Favourite tabs Row-->
                <div class="row">
                  <div class="col s2 offset-s1 center-align">
                    <a href="https://www.facebook.com/messages/t/1257203164296324"><img src="favouritesIcons//facebook.png" class="favButtons"></a>
                  </div>
                  <div class="col s2 center-align">
                    <a href="https://www.reddit.com/"><img src="favouritesIcons//Reddit-The-Official-App-Icon.png" class="favButtons"></a>
                  </div>
                  <div class="col s2 center-align">
                    <a href="https://easyweb.td.com/waw/idp/login.htm?execution=e1s1">  <img src="favouritesIcons//TD-bank-icon.png" class="favButtons"></a>
                  </div>
                  <div class="col s2 center-align">
                    <a href="https://www.youtube.com/feed/subscriptions"><img src="favouritesIcons//youtube.png" class="favButtons"></a>
                  </div>
                  <div class="col s2 center-align">
                    <a href="https://www.netflix.com/browse"><img src="favouritesIcons//netflix.png" class="favButtons"></a>
                  </div>
                </div>
                <!--Favourite tabs Row2-->
                <div class="row">
                  <div class="col s2 center-align offset-s1">
                    <a href="https://github.com/"><img src="favouritesIcons//git.png" class="favButtons"></a>
                  </div>
                  <div class="col s2 center-align">
                    <a href="https://drive.google.com/drive/my-drive"><img src="favouritesIcons//googleDrive.png" class="favButtons"></a>
                  </div>
                  <div class="col s2 center-align">
                    <a href="https://www.google.ca/maps?hl=en&tab=wl"><img src="favouritesIcons//maps.png" class="favButtons"></a>
                  </div>
                  <div class="col s2 center-align">
                    <a href="https://outlook.office.com/owa/?realm=uoguelph.ca">  <img src="favouritesIcons//gmail.png" class="favButtons"></a>
                  </div>
                  <div class="col s2 center-align">
                    <a href="https://courselink.uoguelph.ca/d2l/home"><img src="favouritesIcons//guelph.jpeg" class="favButtons"></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col s4 offset-s1">
          <!--Dashboard Card-->
          <br><br><br><br><br>
          <!-- display:none; -->
          <div class="card dashboard" style="margin:0 auto; height: 430px; width:420px; background: rgba(240,240,240,0.8);">
            <div class="card-content">
              <!--Current Weather Row-->
              <div class="row">
                <!--Current tempature-->
                <div class="col s6" id="currentTemp" style="font-size:65px;">
                </div>
                <!--Weather Icon-->
                <div class="col s6 center-align">
                  <i class="material-icons large">filter_drama</i>
                </div>

                <!--Forecast Description row-->
                <div class="row">
                  <div class="col s12" id="currentTempText" style="font-family: 'Arima Madurai', cursive;">
                  </div>
                  <div class="col s12" id="currentTempRange">
                  </div>
                </div>

                <!--Weekly Weather Forecast box-->
                <div class="box" style="height:130px; background: rgba(240,240,240,0.5);">
                  <div class="row">

                    <div class="col s1 pull-s1">
                      <div class="box">
                        <span class="top-right" id="day0High"></span>
                        <span class="mid-right" id="day0Low"></span><br>
                        <span class="bottom-center" id="day0Date" style = "font-size: 80%;"></span>
                      </div>
                    </div>

                    <div class="col s1 pull-s1 offset-s1">
                      <div class="box">
                        <span class="top-right" id="day1High"></span>
                        <span class="mid-right" id="day1Low"></span><br>
                        <span class="bottom-center" id="day1Date" style = "font-size: 80%;"></span>
                      </div>
                    </div>

                    <div class="col s1 pull-s1 offset-s1">
                      <div class="box">
                        <span class="top-right" id="day2High"></span>
                        <span class="mid-right" id="day2Low"></span><br>
                        <span class="bottom-center" id="day2Date" style = "font-size: 80%;"></span>
                      </div>
                    </div>

                    <div class="col s1 pull-s1 offset-s1">
                      <div class="box">
                        <span class="top-right" id="day3High"></span>
                        <span class="mid-right" id="day3Low"></span><br>
                        <span class="bottom-center" id="day3Date" style = "font-size: 80%;"></span>
                      </div>
                    </div>

                    <div class="col s1 pull-s1 offset-s1">
                      <div class="box">
                        <span class="top-right" id="day4High"></span>
                        <span class="mid-right" id="day4Low"></span><br>
                        <span class="bottom-center" id="day4Date" style = "font-size: 80%;"></span>
                      </div>
                    </div>

                    <div class="col s1 pull-s1 offset-s1">
                      <div class="box">
                        <span class="top-right" id="day5High"></span>
                        <span class="mid-right" id="day5Low"></span><br>
                        <span class="bottom-center" id="day5Date" style = "font-size: 80%;"></span>
                      </div>
                    </div>

                  </div>
                </div>

                <!--Bus Schedule box-->
                <div class="box">
                  Bus Schedule
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  <!-- </div> -->
  </body>
</html>
<!--Clock Script-->
<script src="vue.min.js"></script>
<script src="moment.js" charset="utf-8"></script>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript">
    new Vue({
        /* Vue will be attached to this ID */
        el: '#app',
        /* variables are stored in data */
        data: {
            currhour: '', currmin: '', currdate: ''
        },
        /* Methods are defined in here */
        methods: {
            get_time() {
                /* Get the current date from moment.js.  learn more about formatting at: https://momentjs.com/docs/#/displaying/format/ */
                var split = moment().format("dddd, MMMM Do YYYY_h_mm a").split('_')

                /* Set instance variables */
            		this.currdate = split[0]
            		this.currhour = split[1]
            		this.currmin  = split[2]
            },
        },

        /* This is called when the Vue instance is mounted to #app
            similar to a constructor method */
        mounted() {
            /* Call get_time on via timer, every second */
            this.get_time()
            this.interval = setInterval(this.get_time, 1000)
        },
        beforeDestroy() {
            clearInterval(this.interval)
        }
    });
</script>
